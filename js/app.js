function createIframe(){var e=this.closest(".o-youtube-player"),a=e.getElementsByClassName("o-youtube-player__disclaimer")[0];console.log(a);var t=document.createElement("iframe");t.setAttribute("src","https://www.youtube-nocookie.com/embed/ID?autoplay=1".replace("ID",e.dataset.id)),t.setAttribute("title",e.dataset.iframeTitle),this.closest(".o-youtube-player__content").appendChild(t),this.closest(".o-youtube-player__content").removeChild(this),e.removeChild(a)}!function(s){function t(){s(".cover").each(function(e,a){var t,o=s(a),n=o.find("img").eq(0);(t=n.attr("src"))&&o.css("background-image","url("+t+")")})}function o(){s("body").addClass("nav-is-open").removeClass("nav-is-closed"),s('[data-target="#menuPrincipalMobile"], [data-target="#menuLeftDesktop"]').attr("aria-expanded",!0),Cookies.set("verticalNav","open",{expires:7}),s(".o-paragraph-diaporama .tns-controls").hide(),setTimeout(function(){l(),s(".o-paragraph-diaporama .tns-controls").fadeIn(),s("body").removeClass("js-menu-transition")},300)}function n(){s("body").removeClass("nav-is-open").addClass("nav-is-closed"),s('[data-target="#menuPrincipalMobile"], [data-target="#menuLeftDesktop"]').attr("aria-expanded",!1),Cookies.set("verticalNav","closed",{expires:7}),s(".o-paragraph-diaporama .tns-controls").hide(),setTimeout(function(){l(),s(".o-paragraph-diaporama .tns-controls").fadeIn(),s("body").removeClass("js-menu-transition")},300)}function r(e,a){var t=s(a).get(0),o=s(this).parents(".m-media-background").siblings(".m-media-background__btn");t.paused&&"playing"===s(a).data("status")&&(t.play(),o.addClass("is-pause").removeClass("is-play").attr("title","Mettre en pause la vidéo en fond"),o.children(".icon").addClass("icon-pause").removeClass("icon-play"),o.children(".sr-only").html("Mettre en pause la vidéo en fond"))}function i(e,a){var t=s(a).get(0),o=s(this).parents(".m-media-background").siblings(".m-media-background__btn");t.paused||(t.pause(),o.addClass("is-play").removeClass("is-pause").attr("title","Lancer la vidéo en fond"),o.children(".icon").addClass("icon-play").removeClass("icon-pause"),o.children(".sr-only").html("Lancer la vidéo en fond"))}var l=function(){991<s(window).width()&&0<s(".o-paragraph-diaporama__item").length&&s(".o-paragraph-diaporama .tns-controls").css("left",s(".o-paragraph-diaporama__item").width()-s(".tns-controls").width())};Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,a){if(null==this)throw new TypeError('"this" est nul ou non défini');var t=Object(this),o=t.length>>>0;if(0==o)return!1;var n,r,i=0|a,s=Math.max(0<=i?i:o-Math.abs(i),0);for(;s<o;){if((n=t[s])===(r=e)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;s++}return!1}});function c(){var t=s("html");s("#modalAccess [name]").change(function(){var e=s(this).attr("name"),a=s(this).val();t.attr("data-"+e,a),function(e,a,t){if(t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);var n="; expires="+o.toGMTString()}else n="";document.cookie=e+"="+a+n+"; path=/"}(e,a,"180")});var e=document.cookie;if(e&&""!==e){var a=e.split("; "),n={};a.forEach(function(e){var a=e.split("="),t=a[0],o=a[1];["font","contrast","line-space"].includes(t)&&(n[t]=o)}),Object.keys(n).forEach(function(e){var a=n[e];t.attr("data-"+e,a),s("[name="+e+"][value="+a+"]").attr("checked","true")})}}s(window).focus(),s(document).ready(function(){var a,e;("closed"===Cookies.get("verticalNav")?n:o)(),s('[data-target="#menuPrincipalMobile"], [data-target="#menuLeftDesktop"]').on("click",function(){s("body").addClass("js-menu-transition"),("true"===s(this).attr("aria-expanded")?n:o)()}),s(".navbar-toggler-close").on("click",function(){s(".navbar-toggler").focus()}),s(".navbar-nav--left .is-active").parents(".nav-collapse").collapse("show"),991<s(window).width()&&(s(".megamenu__link.is-active").siblings(".megamenu__collapse").collapse("show"),s(".megamenu__link").on("click",function(e){"true"===s(this).attr("aria-expanded")&&e.stopPropagation()})),t(),s(".wysiwyg table").removeAttr("border cellpadding cellspacing style").wrap("<div class='table-responsive'></div>").addClass("table table-bordered").find("thead").addClass("thead-light"),s(".wysiwyg iframe").removeAttr("frameborder width height").addClass("embed-responsive-item").wrap("<div class='m-media embed-responsive embed-responsive-16by9'></div>"),s('[target="_blank"]').each(function(e){if(s(this).addClass("external-link").append('<span class="icon-external-link" aria-hidden="true"></span>'),s(this).attr("title")){var a=s(this).attr("title").replace(/\s+/g," ").trim();s(this).attr("title",function(){return a+" (Nouvelle fenêtre)"})}else s(this).attr("title",function(){return s(this).text().replace(/\s+/g," ").trim()+" (Nouvelle fenêtre)"})}),function(){if(0<s(".m-media-background").length){s(".m-media-background").each(function(){s(this).find("video").appear(),s(this).find("video").on("appear",r).on("disappear",i)});var e=s(".m-media-background__btn");e.on("click",function(){var e=s(this).siblings(".m-media-background").find("video"),a=e.get(0);a.paused?(s(this).addClass("is-pause").removeClass("is-play").attr("title","Mettre en pause la vidéo en fond"),s(this).children(".icon").addClass("icon-pause").removeClass("icon-play"),s(this).children(".sr-only").html("Mettre en pause la vidéo en fond")):(s(this).addClass("is-play").removeClass("is-pause").attr("title","Lancer la vidéo en fond"),s(this).children(".icon").addClass("icon-play").removeClass("icon-pause"),s(this).children(".sr-only").html("Lancer la vidéo en fond")),a[a.paused?"play":"pause"](),e.data("status",a.paused?"pausing":"playing")}),Modernizr.touchevents&&e.trigger("click"),window.matchMedia("(prefers-reduced-motion)").matches&&s(".m-media-background video").each(function(){s(this).removeAttribute("autoplay"),i()})}}(),s(".float-target-parent .form-control").on("focus blur",function(e){s(this).parents(".float-target-parent").toggleClass("focused","focus"===e.type||""!=this.value)}),s(".float-target-parent .form-control").each(function(){""==s(this).val()&&!s(this).attr("placeholder")||s(this).parents(".float-target-parent").addClass("focused")}),s("#menuLeftDesktop").overlayScrollbars({scrollbars:{autoHide:"leave"}}),function(){var e=s(":target").offset(),a=s(".header-principal").outerHeight();if(e){var t=e.top-a;s("html, body").animate({scrollTop:t},0)}var o=window.location.hash;if(o){var n=s(o);if(n.length){var r=n.find(".js-accordion__header");if(r.length){var i=r.attr("aria-controls");r.attr("aria-expanded","true"),console.log(s(i)),s("#"+i).removeAttr("aria-hidden")}}}}(),s('a[href*="#"]:not([href="#"]):not([role="tab"]):not([data-toggle="collapse"]):not(.sr-only-focusable)').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=s(this.hash),a=s(".header-principal").outerHeight()+20;(e=e.length?e:s("[name="+this.hash.slice(1)+"]")).length&&s("html,body").animate({scrollTop:e.offset().top-a},1e3)}}),a=s(".header-principal").outerHeight(),0<s(".container-content--sidebar-inner").length&&s(".container-content--sidebar-inner").affix({offset:{top:function(){var e=s(".js-scrollspy-target").offset();return e?e.top-a-20:0},bottom:function(){var e,a=s(".js-scrollspy-target");if(0<a.length)return e=a.offset(),s("html").outerHeight()-(a.outerHeight()+e.top)}}}),0<s("#navSummary").length&&s("body").scrollspy({target:"#navSummary",offset:a+50}),function(){if(0<s(".js-paragraph-diaporama").length)tns({container:".js-paragraph-diaporama",items:1,nav:!1,loop:!1,controlsText:["Slide précédente","Slide suivante"],responsive:{992:{items:1.4,gutter:20}}})}(),l(),s(".o-paragraph-diaporama__fullscreen").modaal({type:"image",close_text:"Fermer le diaporama plein écran",close_aria_label:"Fermer le diaporama plein écran",accessible_title:"Diaporama plein écran",overlay_opacity:1,background:"#fff",outer_controls:!0}),(e=s(".o-socialwall").masonry({itemSelector:".o-socialwall__item",columnWidth:".o-socialwall__item",percentPosition:!0})).imagesLoaded().progress(function(){e.masonry("layout")}),c(),s("#modalSearch").on("shown.bs.modal",function(){s('.o-search-form--modal [type="text"]').focus()}),s("#modalSearch").on("hidden.bs.modal",function(){s('.o-search-form--modal [type="text"]').val("")})}),s(window).on("resize",function(){l()})}(jQuery),document.addEventListener("DOMContentLoaded",function(){var e,a=document.getElementsByClassName("o-youtube-player");for(e=0;e<a.length;e++)a[e].querySelector(".o-youtube-player__btn").onclick=createIframe});